{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["axios","get","then","response","data","newPerson","post","id","delete","Filter","props","onChange","changeHandler","value","PersonForm","changeNameHandler","name","changeNumberHandler","number","type","onClick","submitClickHandler","Persons","style","listStyleType","padding","persons","filter","person","toLocaleUpperCase","includes","map","key","deleteClickHandler","DeleteButton","Notification","notification","styleList","marginBottom","borderStyle","borderRadius","background","color","fontStyle","fontSize","level","length","className","text","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","message","setMessage","useEffect","personService","returnedPersons","catch","error","console","log","setTimeout","event","target","preventDefault","newPersons","find","p","undefined","window","confirm","returnedPerson","concat","getAttribute","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eeee822f.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove }","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst Filter = (props) => {\n  return (\n    <div>\n      filter shown with:\n      <input\n        onChange={props.changeHandler}\n        value={props.value}\n      />\n    </div>\n  )\n}\n\nconst PersonForm = (props) => {\n  return (\n    <form>\n      <div>\n        name:\n        <input\n          onChange={props.changeNameHandler}\n          value={props.name}\n        />\n      </div>\n      <div>\n        number:\n        <input\n          onChange={props.changeNumberHandler}\n          value={props.number}\n        />\n      </div>\n      <div>\n        <button\n          type=\"submit\"\n          onClick={props.submitClickHandler}\n        >\n          add\n        </button>\n      </div>\n    </form>\n  )\n}\n\nconst Persons = (props) => {\n  return (\n    <ul style={{listStyleType: \"none\", padding: 0}}>\n      {props.persons.filter(person => person.name.toLocaleUpperCase().includes(props.filter))\n        .map(person =>\n          <li key={person.name}>\n            {person.name} {person.number}&nbsp;\n            <DeleteButton id={person.id} deleteClickHandler={props.deleteClickHandler} />\n          </li>\n        )\n      }\n    </ul>\n  )\n}\n\nconst DeleteButton = (props) => {\n  return (\n    <button id={props.id} onClick={props.deleteClickHandler}>delete</button>\n  )\n}\n\nconst Notification = ({notification}) => {\n  const styleList = [\n    { // INFO\n      padding: 10,\n      marginBottom: 10,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      background: 'lightgrey',\n      color: 'green',\n      fontStyle: 'normal',\n      fontSize: 20\n    },\n    { // WARN\n      padding: 10,\n      marginBottom: 10,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      background: 'grey',\n      color: 'blue',\n      fontStyle: 'italics',\n      fontSize: 20\n    },\n    { // ERROR\n      padding: 10,\n      marginBottom: 10,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      background: 'darkgrey',\n      color: 'salmon',\n      fontStyle: 'bold',\n      fontSize: 20\n    }\n  ]\n  if (notification.level < 0 || notification.level >= styleList.length) {\n    return null\n  }\n  return (\n    <div className=\"notification\" style={styleList[notification.level]}>\n      {notification.text}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ message, setMessage ] = useState({level: -1})\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setNewFilter(event.target.value)\n\n  const handleSubmitClick = (event) => {\n    event.preventDefault()\n    let newPersons = [...persons]\n    const person = newPersons.find(p => p.name === newName)\n    let text = `Added '${newName}'`\n    // Delete person if already exist and user agrees\n    if( person !== undefined) {\n      if (!window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        setMessage({text: `Cancelled updating '${newName}'`, level: 1})\n        setTimeout(() => setMessage({level: -1}), 10000)\n        return\n      }\n      personService.remove(person.id)\n      .catch(error => {\n        console.log(error)\n        setMessage({text: `Failed removing '${newName}' during update`, level: 2})\n        setTimeout(() => setMessage({level: -1}), 15000)\n        return\n      })\n      newPersons = newPersons.filter(p => p.id !== person.id)\n      text = `Updated '${newName}'`\n    }\n    // Create user with number\n    personService.create({ name: newName, number: newNumber })\n      .then(returnedPerson => {\n        setPersons(newPersons.concat(returnedPerson))\n      })\n      .catch(error => {\n        console.log(error)\n        setMessage({text: `Failed creating '${newName}'`, level: 2})\n        setPersons(newPersons)\n        setTimeout(() => setMessage({level: -1}), 15000)\n        return\n      })\n    setMessage({text: text, level: 0})\n    setNewName('')\n    setNewNumber('')\n    setTimeout(() => setMessage({level: -1}), 5000)\n}\n\n  const handleDeleteClick = (event) => {\n    const id = event.target.getAttribute('id')\n    const person = persons.find(person => person.id === id)\n    if (id == null || person === undefined) {\n      setMessage({text: `Failed deleting person with id '${id}'`, level: 2})\n      setTimeout(() => setMessage({level: -1}), 15000)\n      return\n    }\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService.remove(person.id)\n        .then(returnedPerson => setPersons(persons.filter(p => p.id !== person.id)))\n        .catch(error => {\n          console.log(error)\n          setMessage({text: `Failed deleting '${person.name}' with id '${person.id}'`, level: 2})\n          setTimeout(() => setMessage({level: -1}), 15000)\n          return\n        })\n    } else {\n      setMessage({text: `Cancelling deletion of '${person.name}' with id '${person.id}'`, level: 1})\n      setTimeout(() => setMessage({level: -1}), 10000)\n      return\n    }\n    setMessage({text: `Deleted '${person.name}'`, level: 0})\n    setTimeout(() => setMessage({level: -1}), 5000)\n  }\n\n  useEffect(() => {\n    personService.getAll()\n      .then(returnedPersons => {\n        setPersons(returnedPersons)\n      })\n      .catch(error => {\n        console.log(error)\n        setMessage({text: `Could not get person list from server`, level: 2})\n        setTimeout(() => setMessage({level: -1}), 15000)\n      })      \n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={message} />\n      <Filter\n        changeHandler={handleFilterChange}\n        value={newFilter}\n      />\n      <h3>add a new</h3>\n      <PersonForm\n        changeNameHandler={handleNameChange}\n        name={newName}\n        changeNumberHandler={handleNumberChange}\n        number={newNumber}\n        submitClickHandler={handleSubmitClick}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        persons={persons}\n        filter={newFilter.toLocaleUpperCase()}\n        deleteClickHandler={handleDeleteClick}\n      />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}